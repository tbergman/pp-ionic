<ng-container *ngIf="(playlists$ | async)?.data?.playlistsConnection?.edges as playlists; else noParties">
    <ng-container *ngFor="let playlist of playlists">
        <ion-card class="animated fadeInUp duration-200ms delay-100ms">
            <img
                [src]="playlist.node.imageUrl"
                style="max-height: 300px; width: auto; display: block; margin: 0 auto;"
            />
            <ion-card-header>
                <ion-card-title>{{ playlist.node.name }}</ion-card-title>
                <ion-card-subtitle>
                    <ion-icon name="user"></ion-icon> {{ playlist.node.user.firstName }}
                    {{ playlist.node.user.lastName }} &nbsp;
                    <nz-tag [nzColor]="playlist.node.importable ? 'blue' : 'gold'" display="inline-flex">
                        {{ playlist.node.importable ? 'Importable' : 'Private' }}
                    </nz-tag>
                </ion-card-subtitle>
                <ion-card-subtitle>
                    <i nz-icon nzType="clock-circle"></i> {{ playlist.node.tracks.length }} tracks</ion-card-subtitle
                >
            </ion-card-header>
            <ion-card-content>
                <ion-button
                    expand="full"
                    fill="outline"
                    color="success"
                    slot="end"
                    [href]="'spotify:playlist:' + playlist.node.spotifyId"
                    >Open in Spotify</ion-button
                >
            </ion-card-content>
        </ion-card>
    </ng-container>
</ng-container>
<ng-template #noParties></ng-template>
